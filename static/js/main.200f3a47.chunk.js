(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{111:function(e,t,r){e.exports={App:"App_App__277hk"}},121:function(e,t,r){},13:function(e,t,r){e.exports={burgerIngredientsHeader:"BurgerIngredients_burgerIngredientsHeader__1zrxV",burgerIngredientsBody:"BurgerIngredients_burgerIngredientsBody__1vLrZ",burgerIngredients:"BurgerIngredients_burgerIngredients__1wizs",foodRow:"BurgerIngredients_foodRow__1iAw0",foodCardPrice:"BurgerIngredients_foodCardPrice__3FkSQ",foodCard:"BurgerIngredients_foodCard__2NWgw",cardWrapper:"BurgerIngredients_cardWrapper__3IhvB",foodCardPriceName:"BurgerIngredients_foodCardPriceName__17yq6",mainTab:"BurgerIngredients_mainTab__2VmZT",foodCardMain:"BurgerIngredients_foodCardMain__1joVG"}},15:function(e,t,r){e.exports={headerMain:"AppHeader_headerMain__QdDZN",headerMainNav:"AppHeader_headerMainNav__djvPO",headerbox:"AppHeader_headerbox__8WBRM",headerAccount:"AppHeader_headerAccount__1plGI",headerLogo:"AppHeader_headerLogo__26aZb","header\u0421onstructor":"AppHeader_header\u0421onstructor___1EF-",activeLink:"AppHeader_activeLink__6d7en"}},16:function(e,t,r){e.exports={number:"OrderCardStyles_number__LRkY1",time:"OrderCardStyles_time__240Tb",header:"OrderCardStyles_header__3oCok",mainBox:"OrderCardStyles_mainBox__2Yr7k",image:"OrderCardStyles_image__1aR6Y",orderDetail:"OrderCardStyles_orderDetail__2RgKj",ingredients:"OrderCardStyles_ingredients__2Shm7",lastImage:"OrderCardStyles_lastImage__2DGdz",plus:"OrderCardStyles_plus__1B5Py",price:"OrderCardStyles_price__2P-EO",content:"OrderCardStyles_content__34Bcx",done:"OrderCardStyles_done__dtpZ8"}},17:function(e,t,r){e.exports={navOption:"profile_navOption__1FfG8",navOptionPromt:"profile_navOptionPromt__1QklA",navButton:"profile_navButton__2JPvq",active:"profile_active__zbCZH",mainbox:"profile_mainbox__2L7WA",input:"profile_input__3NNV-",text:"profile_text__1N9n1",link:"profile_link__2Rq89",navigation:"profile_navigation__1vBNr",detailed:"profile_detailed__2B-vV",button:"profile_button__1Nv19",orderHistoryBox:"profile_orderHistoryBox__1Amzz",navDiv:"profile_navDiv__1sGLP"}},21:function(e,t,r){e.exports={bunsBody:"BurgerConstructor_bunsBody__k4OR7",bun:"BurgerConstructor_bun__1R3GO",ingredient:"BurgerConstructor_ingredient__2g6-V",allIngredients:"BurgerConstructor_allIngredients__2UC0L",noBuns:"BurgerConstructor_noBuns__1vt0w",noIngredients:"BurgerConstructor_noIngredients__38vM6",basket:"BurgerConstructor_basket__1mngj",basketCountPrice:"BurgerConstructor_basketCountPrice__2lP5E",basketCurrencyIcon:"BurgerConstructor_basketCurrencyIcon__3sY3Z"}},219:function(e,t,r){"use strict";r.r(t),r.d(t,"store",(function(){return Hr}));var a=r(1),n=r.n(a),c=r(38),s=r.n(c),i=(r(121),r(111)),o=r.n(i),l=r(5),d=r(15),u=r.n(d),j=r(2),m=r.n(j),b=r(7),p=r(12),_=r(47),x=function(){return Object(_.b)()},O=_.c,f=r(9),h=r.n(f),g=r(18),v=r(197).create({baseURL:"https://norma.nomoreparties.space/api/",headers:{"Content-Type":"application/json"}});v.interceptors.request.use((function(e){var t=X("accessToken");return t?e.headers.Authorization="Bearer "+t:delete v.defaults.headers.common.Authorization,e}),(function(e){return Promise.reject(e)})),v.interceptors.response.use((function(e){return e}),function(){var e=Object(g.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config,"jwt expired"!==t.response.data.message){e.next=7;break}return e.next=4,ee();case 4:return e.sent,v.defaults.headers.common.Authorization="Bearer"+X("accessToken"),e.abrupt("return",v(r));case 7:Promise.reject(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var y="USER_SIGN_UP_REQUEST",N="USER_SIGN_UP_SUCCESS",E="USER_SIGN_UP_FAILED",S="USER_LOG_IN_REQUEST",I="USER_LOG_IN_SUCCESS",C="USER_LOG_IN_FAILED",T="USER_LOG_OUT_REQUEST",R="USER_LOG_OUT_SUCCESS",k="USER_LOG_OUT_FAILED",L="USER_FORGOT_REQUEST",w="USER_FORGOT_SUCCESS",D="USER_FORGOT_FAILED",A="USER_RESET_REQUEST",U="USER_RESET_SUCCESS",M="USER_RESET_FAILED",B="GET_USER_REQUEST",P="GET_USER_SUCCESS",G="GET_USER_FAILED",F="USER_NEED_TO_REFRESH",H="PROFILE_IS_READY",W="GET_USER_REFRESH_REQUEST",z="GET_USER_REFRESH_SUCCESS",Q="GET_USER_REFRESH_FAILED",q="USER_PROFILE_CHANGE_REQUEST",Z="USER_PROFILE_CHANGE_SUCCESS",K="USER_PROFILE_CHANGE_FAILED",V="CLEAR_ERROR_PROFILE",J="CLEAR_ERROR_FORGOT",Y="CLEAR_ERROR_REGISTRATION";function $(e,t,r){var a=(r=r||{}).expires;if("number"==typeof a&&a){var n=new Date;n.setTime(n.getTime()+1e3*a),a=r.expires=n}a&&a.toUTCString&&(r.expires=a.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var s in r){c+="; "+s;var i=r[s];!0!==i&&(c+="="+i)}document.cookie=c}function X(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function ee(){return te.apply(this,arguments)}function te(){return(te=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("auth/token",{token:X("refreshToken")}).then((function(e){if(200!==e.status)return e.data;var t=e.data;document.cookie="accessToken=".concat(t.accessToken.split("Bearer ")[1],"; path=/"),document.cookie="refreshToken=".concat(t.refreshToken,"; path=/")})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=r(0);var ae=function(){var e=O((function(e){return e.userInfo})).logged,t=Object(p.h)(),r=x();return Object(a.useEffect)((function(){e||r((function(e){e({type:V}),e({type:J}),e({type:Y})}))}),[t.pathname]),Object(re.jsx)("header",{className:u.a.headerMain,children:Object(re.jsx)("nav",{children:Object(re.jsxs)("ul",{className:u.a.headerMainNav,children:[Object(re.jsx)("li",{className:m()(u.a.headerbox,u.a.header\u0421onstructor,"mr-2 mt-4 mb-4"),children:Object(re.jsxs)(b.c,{exact:!0,to:{pathname:"/"},className:u.a.headerbox,activeClassName:u.a.activeLink,children:[Object(re.jsx)("div",{className:"ml-5",children:Object(re.jsx)(l.BurgerIcon,{type:"secondary"})}),Object(re.jsx)("p",{className:m()("text","text_type_main-default","text_color_inactive","ml-2 mr-5"),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(re.jsx)("li",{className:m()(u.a.headerbox,"mt-4 mb-4"),children:Object(re.jsxs)(b.c,{exact:!0,activeClassName:u.a.activeLink,to:{pathname:"/feed"},className:u.a.headerbox,children:[Object(re.jsx)("div",{className:"ml-5",children:Object(re.jsx)(l.ListIcon,{type:"secondary"})}),Object(re.jsx)("p",{className:m()("text","text_type_main-default","text_color_inactive","ml-2 mr-5"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})}),Object(re.jsx)("li",{className:m()(u.a.headerbox,u.a.headerLogo,"mt-4 mb-4"),children:Object(re.jsx)("div",{className:u.a.headerbox,children:Object(re.jsx)(b.c,{exact:!0,to:{pathname:"/"},children:Object(re.jsx)(l.Logo,{})})})}),Object(re.jsx)("li",{className:m()(u.a.headerbox,u.a.headerAccount,"mt-4 mb-4"),children:Object(re.jsxs)(b.c,{activeClassName:u.a.activeLink,to:{pathname:"/profile"},className:u.a.headerbox,children:[Object(re.jsx)("div",{className:"ml-5",children:Object(re.jsx)(l.ProfileIcon,{type:"secondary"})}),Object(re.jsx)("p",{className:m()("text","text_type_main-default","text_color_inactive","ml-2 mr-5"),children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})})},ne=r(11),ce=r(29),se=r.n(ce),ie=r(60),oe=r.n(ie),le=function(e){var t=e.error;return Object(re.jsxs)("div",{className:m()(oe.a.box,"mt-10"),children:[Object(re.jsxs)("span",{className:m()(oe.a.text,"text text_type_main-default"),children:["\u041e\u0448\u0438\u0431\u043a\u0430 ",t," !"]}),Object(re.jsx)("span",{className:m()(oe.a.text,"text text_type_main-default"),children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"})]})};var de=function(){var e=O((function(e){return e.userInfo})),t=e.error,r=e.hasError,n=(e.logged,x()),c=Object(a.useState)(""),s=Object(ne.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)(""),u=Object(ne.a)(d,2),j=u[0],p=u[1];return Object(re.jsxs)("div",{className:m()(se.a.mainbox),children:[Object(re.jsx)("span",{className:m()(se.a.header,se.a.text,"text text_type_main-medium mb-6"),children:"\u0412\u0445\u043e\u0434"}),Object(re.jsxs)("form",{onSubmit:function(e){var t,r;e.preventDefault(),n((t=j,r=i,function(){var e=Object(g.a)(h.a.mark((function e(a){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:S}),e.next=4,v.post("auth/login",{email:t,password:r});case 4:200===(n=e.sent).status&&($("accessToken",(c=n.data).accessToken.split("Bearer ")[1],{path:"/"}),document.cookie="refreshToken=".concat(c.refreshToken,";  path=/"),a({type:I,value:c})),200!==n.status&&a({type:C,value:n.status,errorMessage:n.data.message}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:C,value:e.t0.status});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(re.jsx)("div",{className:m()(se.a.input,"mb-6"),children:Object(re.jsx)(l.Input,{type:"text",onChange:function(e){return p(e.target.value)},value:j,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",placeholder:"E-mail"})}),Object(re.jsx)("div",{className:m()(se.a.input,"mb-6"),children:Object(re.jsx)(l.PasswordInput,{onChange:function(e){o(e.target.value)},value:i,name:"password"})}),Object(re.jsx)("div",{className:m()(se.a.button,"mb-20"),children:Object(re.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]}),r&&Object(re.jsx)(le,{error:t}),Object(re.jsxs)("div",{className:m()(se.a.text),children:[Object(re.jsxs)("span",{className:"text text_type_main-default text_color_inactive",children:["\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"," "]}),Object(re.jsxs)(b.b,{to:{pathname:"/register"},className:m()(se.a.link,"text text_type_main-default"),children:[" ","\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"]})]}),Object(re.jsxs)("div",{className:m()(se.a.text),children:[Object(re.jsxs)("span",{className:"text text_type_main-default text_color_inactive",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"," "]}),Object(re.jsxs)(b.b,{to:{pathname:"/forgot-password"},className:m()(se.a.link,"text text_type_main-default"),children:[" ","\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"]})]})]})},ue=r(48),je=r.n(ue);var me=function(){var e=O((function(e){return e.forgotRequest})),t=e.hasError,r=e.error,n=Object(a.useState)(""),c=Object(ne.a)(n,2),s=c[0],i=c[1],o=x(),d=Object(p.g)();return Object(re.jsxs)("div",{className:m()(je.a.mainbox),children:[Object(re.jsx)("span",{className:m()(je.a.header,"text text_type_main-medium mb-6"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(re.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),/\S+@\S+\.\S+/.test(s)?(o((t=s,function(){var e=Object(g.a)(h.a.mark((function e(r){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:L}),e.next=4,v.post("password-reset",{email:t});case 4:200===(a=e.sent).status&&(n=a.data,r({type:w,value:n})),200!==a.status&&r({type:D,value:a.status}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:D,value:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),d.replace({pathname:"/reset-password"})):o({type:D,value:"! \u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"})},children:[Object(re.jsx)("div",{className:m()(je.a.input,"mb-6"),children:Object(re.jsx)(l.Input,{type:"text",placeholder:"E-mail",onChange:function(e){return i(e.target.value)},value:s,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(re.jsx)("div",{className:"mb-20",children:Object(re.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]}),t?Object(re.jsx)(le,{error:r}):null,Object(re.jsxs)("div",{children:[Object(re.jsx)("span",{className:m()("text text_type_main-default text_color_inactive"),children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(re.jsxs)(b.b,{className:m()(je.a.link,"text text_type_main-default"),to:{pathname:"/login"},children:[" ","\u0412\u043e\u0439\u0442\u0438"]})]})]})},be=r(13),pe=r.n(be),_e=r(50),xe="GET_INGREDIENTS_API_REQUEST",Oe="GET_INGREDIENTS_API_SUCCESS",fe="GET_INGREDIENTS_API_FAILED",he="SEND_ORDER_REQUEST",ge="SEND_ORDER_SUCCESS",ve="SEND_ORDER_FAILED",ye="CONSTRUCTOR_BUN",Ne="CONSTRUCTOR_MAIN_INGREDIENTS",Ee="MODAL_INGRIDIENT_OPEN",Se="MODAL_ORDER_OPEN",Ie="MODAL_CLOSE",Ce="MODAL_ORDER_ERROR",Te="MODAL_ORDER_DETAIL_OPEN",Re="WRITE_CURRENT_INGREDIENT",ke="DELETE_CURRENT_INGREDIENT",Le="TAB_SWITCH",we="CONSTRUCTOR_CARD_CHANGE",De="CONSTRUCTOR_CLEAN",Ae="COUNT_TOTAL_PRICE",Ue="COUNT_CARD",Me="WRITE_CURRENT_ORDER_DETAIL",Be="DELETE_CURRENT_ORDER_DETAIL",Pe="GET_INFO_ONE_ORDER_REQUEST",Ge="GET_INFO_ONE_ORDER_SUCCESS",Fe="GET_INFO_ONE_ORDER_ERROR";function He(e){return function(t){t({type:Le,value:e})}}function We(e,t,r){return function(a){console.log(r);var n=e.filter((function(e){return e.keyAdd--,e!==t}));0===n.length&&r.foodData.filter((function(e){"bun"!==e.type&&(e.counter=0)})),a({type:we,value:n}),a({type:Ue,value:r.foodData})}}var ze="movableCard",Qe="addbleCard";function qe(e,t,r){var a=Object(_e.a)(t),n={};if(e.item)return function(c){"bun"===e.item.type&&e.item!==r&&(e.item.keyAdd=2,r&&(r.counter=0),e.item.counter=2,c({type:ye,bun:e.item})),"bun"===e.item.type||t.includes(e.item)||(a.push(e.item),e.item.keyAdd++),"bun"!==e.item.type&&t.includes(e.item)&&(e.item.keyAdd++,Object.assign(n,e.item),n.key+=n.keyAdd,a.push(n)),c({type:Ne,mainIngredients:a})}}function Ze(e,t,r){var a=Object(_e.a)(r.foodData).filter((function(e){return"bun"!==e.type})),n=Object(_e.a)(e),c=n.filter((function(e){return e._id===t._id})).length,s=a.find((function(e){return e._id===t._id})),i=a.indexOf(s),o=a.filter((function(e){return!n.includes(e)})).concat(n.filter((function(e){return!a.includes(e)})));return o&&(o.map((function(e){return e.counter=0,e})),a.concat(o).filter((function(e,t){return a.indexOf(e)===t&&0===e.counter}))),s.counter=c,a.splice(i,1,s),function(e){e({type:Ue,value:r.foodData})}}function Ke(e){return function(t){var r;e?(t({type:De}),t((r=e,function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:he}),e.next=4,v.post("orders",{ingredients:r});case 4:200===(a=e.sent).status&&(n=a.data,t({type:ge,data:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:ve,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),t({type:Se,open:!0})):t({type:Ce,open:!0})}}function Ve(e){var t=new Date(e),r=Number((new Date).getDate().toString()),a=Number((new Date).getMonth().toString()),n=Number((new Date).getFullYear().toString()),c=new Date(n,a,0).getDate(),s=t.toLocaleDateString("ru-RU",{day:"2-digit",hour:"2-digit",minute:"2-digit",timeZoneName:"short"}).toString().replace(/[,.]/g,"").split(" "),i=s.slice();return s.map((function(e,t,a){var n=r-a[0],s=Number(a[0]);n<=0&&(n=Number(c)-Number(s)+1),s===r&&i.splice(0,1,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f,"),s===r-1&&i.splice(0,1,"\u0412\u0447\u0435\u0440\u0430,"),s>r&&s!==r-1&&i.splice(0,1,1===n?"\u0412\u0447\u0435\u0440\u0430,":"".concat(n," ").concat(n<=4?"\u0434\u043d\u044f":"\u0434\u043d\u0435\u0439"," \u043d\u0430\u0437\u0430\u0434")),s<r&&s!==r-1&&i.splice(0,1,1===n?"\u0412\u0447\u0435\u0440\u0430,":"".concat(n," ").concat(n<=4?"\u0434\u043d\u044f":"\u0434\u043d\u0435\u0439"," \u043d\u0430\u0437\u0430\u0434")),i.splice(2,1,"i-".concat(a[2]))})),i}function Je(e,t){var r={right:null,totalCost:null},a=e.filter((function(e){return t.includes(e._id)})).concat(t.filter((function(t){return e.includes(t)})));return r.right=a.sort((function(e){return"bun"===e.type?-1:1})),r&&r.right&&(r.totalCost=r.right.map((function(e){return"bun"===e.type?2*e.price:"bun"!==e.type?e.price:void 0})).reduce((function(e,t){return e+t}),0)),r}var Ye=r(225),$e=function(e){var t=e.index,r=e.elem,a=x(),n=Object(Ye.a)({type:Qe,item:{item:r,index:t},collect:function(e){return{isDragging:e.isDragging()?.4:1}}}),c=Object(ne.a)(n,2),s=(c[0].isDragging,c[1]);return Object(re.jsxs)("div",{ref:s,className:m()(pe.a.foodCard,"mt-6 ml-4"),id:r._id,onClick:function(){return a(function(e){return function(t){t({type:Re,name:e.name,image:e.image_large,calories:e.calories,proteins:e.proteins,fat:e.fat,carbohydrates:e.carbohydrates}),t({type:Ee,open:!0})}}(r))},children:[r.counter>0?Object(re.jsx)(l.Counter,{count:r.counter,size:"default"}):null,Object(re.jsx)("img",{src:r.image,alt:r.name}),Object(re.jsxs)("div",{className:m()(pe.a.foodCardPrice,"mt-1 mb-1"),children:[Object(re.jsx)("span",{className:m()(pe.a.foodCardPricePrice,"text text_type_digits-default"),children:r.price}),Object(re.jsx)(l.CurrencyIcon,{type:"primary"})]}),Object(re.jsx)("span",{className:m()(pe.a.foodCardPriceName,"text text_type_main-default"),children:r.name})]})};function Xe(){var e=x(),t=O((function(e){return e.tabSwtich.currentTab})),r=function(t){e(He(t));var r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth"})};return Object(re.jsxs)("div",{className:pe.a.mainTab,children:[Object(re.jsx)(l.Tab,{value:"bun",active:"bun"===t,onClick:function(e){return r(e)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(re.jsx)(l.Tab,{value:"sauce",active:"sauce"===t,onClick:function(e){return r(e)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(re.jsx)(l.Tab,{value:"main",active:"main"===t,onClick:function(e){return r(e)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]})}var et=function(e){var t=e.type,r=Object(p.h)(),a=O((function(e){return e.apiList.foodData}));return a?Object(re.jsx)("div",{className:pe.a.foodCardMain,children:a.map((function(e,a){if(e.type===t)return Object(re.jsx)(b.b,{to:{pathname:"/ingredients/".concat(e._id),state:{background:r}},children:Object(re.jsx)($e,{index:a,elem:e},e._id)},e._id)}))}):null},tt=function(e){var t=e.sectionName,r=e.textContent,a=e.cardType;return Object(re.jsxs)("div",{className:t,id:a,children:[Object(re.jsx)("p",{className:m()(pe.a.foodRowName,"text text_type_main-medium"),children:r}),Object(re.jsx)(et,{type:a})]})};var rt=function(){var e=x(),t=Object(a.useRef)(null),r=function(r){var a=r.target.childNodes[0].offsetHeight,n=r.target.childNodes[1].clientHeight;t.current&&(t.current.scrollTop<a&&e(He("bun")),t.current.scrollTop>=a&&t.current.scrollTop<a+n&&e(He("sauce")),t.current.scrollTop>=a+n&&e(He("main")))};return Object(a.useEffect)((function(){return t&&t.current&&t.current.addEventListener("scroll",(function(e){r(e)})),function(){t&&t.current&&t.current.removeEventListener("scroll",(function(e){r(e)}))}}),[]),Object(re.jsxs)("section",{className:m()(pe.a.burgerIngredients,"mr-10"),children:[Object(re.jsx)("h2",{className:m()(pe.a.burgerIngredientsHeader,"text text_type_main-large mt-10 mb-5"),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(re.jsx)("div",{children:Object(re.jsx)(Xe,{})}),Object(re.jsxs)("div",{className:pe.a.burgerIngredientsBody,ref:t,children:[Object(re.jsx)(tt,{sectionName:m()(pe.a.foodRow,pe.a.foodRowBun,"text text_type_main-medium pt-10"),textContent:"\u0411\u0443\u043b\u043a\u0438",cardType:"bun"}),Object(re.jsx)(tt,{sectionName:m()(pe.a.foodRow,pe.a.foodRowSauce,"text text_type_main-medium pt-10"),textContent:"\u0421\u043e\u0443\u0441\u044b",cardType:"sauce"}),Object(re.jsx)(tt,{sectionName:m()(pe.a.foodRow,pe.a.foodRowMain,"text text_type_main-medium pt-10"),textContent:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",cardType:"main"})]})]})},at=r(21),nt=r.n(at),ct=r(226);function st(){var e=O((function(e){return e.constructorList.mainIngredients})),t=O((function(e){return e.constructorList.bun})),r=x(),a=Object(ct.a)({accept:Qe,collect:function(e){return{isOver:!!e.isOver()}},drop:function(a,n){r(qe(a,e,t))}}),n=Object(ne.a)(a,2)[1];return Object(re.jsxs)("div",{className:m()(nt.a.bunsBody,"mt-25"),children:[Object(re.jsxs)("div",{className:m()(nt.a.bun,"ml-6"),children:[null!=t&&t.type&&Object(re.jsx)(l.ConstructorElement,{type:"top",isLocked:!0,text:t.name+"\n(\u0432\u0432\u0435\u0440\u0445)",price:t.price,thumbnail:t.image_mobile}),null===t&&Object(re.jsx)("span",{className:m()(nt.a.noBuns,"text text_type_main-medium text_color_inactive"),children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043a\u0443 \ud83e\udc17"})]}),Object(re.jsxs)("div",{className:nt.a.allIngredients,ref:n,children:[e.length>0&&Object(re.jsx)(it,{}),0===e.length&&Object(re.jsx)("span",{className:m()(nt.a.noIngredients,"text text_type_main-medium text_color_inactive"),children:" \ud83e\udc16 \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b \ud83e\udc14"})]}),Object(re.jsxs)("div",{className:m()(nt.a.bun,"ml-6"),children:[null!=t&&t.type&&Object(re.jsx)(l.ConstructorElement,{type:"bottom",isLocked:!0,text:t.name+"\n(\u0432\u043d\u0438\u0437)",price:t.price,thumbnail:t.image_mobile}),null===t&&Object(re.jsx)("span",{className:m()(nt.a.noBuns,"text text_type_main-medium text_color_inactive"),children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043a\u0443 \ud83e\udc15"})]})]},1)}function it(){var e=O((function(e){return e.constructorList.mainIngredients})).map((function(e,t){return Object(re.jsx)(ot,{elemKey:e,id:e._id,name:e.name,price:e.price,image:e.image_mobile,index:t},e.key+e.keyAdd)}));return Object(re.jsx)(re.Fragment,{children:e})}var ot=function(e){var t=e.id,r=e.name,n=e.price,c=e.image,s=e.index,i=e.elemKey,o=x(),d=O((function(e){return e.apiList})),u=O((function(e){return e.constructorList})),j=u.mainIngredients,b=u.bun;Object(a.useEffect)((function(){o(Ze(j,i,d))}),[j,b,qe,Ze,i]),Object(a.useEffect)((function(){console.log("totalCard=",d)}),[d,We]);var p=Object(a.useRef)(null),_=Object(ct.a)({accept:ze,collect:function(e){return{isOver:!!e.isOver()}},hover:function(e,t){var r;if(p.current){var a=e.index,n=s;if(a!==n){var c=null===(r=p.current)||void 0===r?void 0:r.getBoundingClientRect(),i=(c.bottom-c.top)/2,l=t.getClientOffset().y-c.top;a<n&&l<i||a>n&&l>i||(o(function(e,t,r){var a=Object(_e.a)(r),n=a[e];return a.splice(e,1),a.splice(t,0,n),function(e){e({type:"CONSTRUCTOR_CARD_CHANGE",value:a})}}(a,n,j)),e.index=n)}}}}),f=Object(ne.a)(_,2)[1],h=Object(Ye.a)({type:ze,item:function(){return{id:t,index:s,elemKey:i}},collect:function(e){return{isDragging:e.isDragging()}}}),g=Object(ne.a)(h,2),v=g[0].isDragging?0:1;return(0,g[1])(f(p)),Object(re.jsxs)("div",{className:m()(nt.a.ingredient),ref:p,style:{opacity:v},children:[Object(re.jsx)(l.DragIcon,{type:"primary"}),Object(re.jsx)(l.ConstructorElement,{text:r,price:n,thumbnail:c,handleClose:function(){o(We(j,i,d))}})]})};var lt=function(){var e=Object(p.g)(),t=O((function(e){return e.userInfo})).logged,r=O((function(e){return e.apiList.foodData})),n=x(),c=O((function(e){return e.constructorList})),s=c.mainIngredients,i=c.bun;Object(a.useEffect)((function(){i&&n(function(e,t){var r=0,a=0;return t.type&&(a=2*t.price),t.type||(a=0),e.length>0&&(r=e.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0)),0===e.length&&(r=0),function(e){e({type:Ae,value:a+r})}}(s,i))}),[s,i]);var o=O((function(e){return e.price.totalPrice})),d=null;return i&&(d=i.type?s.map((function(e){return e._id})).concat(i._id,i._id):null),Object(re.jsxs)("section",{className:nt.a.body,children:[Object(re.jsx)(st,{}),Object(re.jsxs)("div",{className:m()(nt.a.basket,"mt-10"),children:[Object(re.jsx)("span",{className:m()(nt.a.basketCountPrice,"text","text_type_digits-medium"),children:o}),Object(re.jsx)("div",{className:nt.a.basketCurrencyIcon,children:Object(re.jsx)(l.CurrencyIcon,{type:"primary"})}),Object(re.jsx)("div",{className:nt.a.basketButton,children:Object(re.jsx)(l.Button,{type:"primary",size:"medium",onClick:function(){t?n(Ke(d),function(e){var t=e.map((function(e){return e.counter=0,e}));return function(e){e({type:Ue,value:t})}}(r)):e.replace({pathname:"/login"})},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})})]})]})},dt=r.p+"static/media/animatedModalReady.887b83be.gif",ut=r(6),jt=r.n(ut);var mt=function(){var e=O((function(e){return e.createdOrder})),t=e.hasError,r=e.error,a=e.isLoading,n=e.orderInfo,c=e.success;return Object(re.jsxs)(re.Fragment,{children:[a&&Object(re.jsx)("span",{className:m()(jt.a.orderNumber,jt.a.text,"text text_type_digits-large mb-8"),children:"Loading..."}),n&&!a&&!t&&c&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("span",{className:m()(jt.a.orderNumber,jt.a.text,"text text_type_digits-large mb-8"),children:n.order.number}),Object(re.jsx)("span",{className:m()(jt.a.orderNumberInfo,jt.a.text,"text text_type_main-medium mb-15"),children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(re.jsx)("img",{alt:"accepted icon",className:m()(jt.a.orderIcon,"mb-15"),src:dt}),Object(re.jsx)("span",{className:m()(jt.a.orderReadyInfo,jt.a.text,"text text_type_main-default mb-2"),children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(re.jsx)("span",{className:m()(jt.a.orderWaitInfo,"text text_type_main-default text_color_inactive mb-30"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]}),t&&Object(re.jsx)("span",{className:m()(jt.a.orderNumber,jt.a.text,"text text_type_digits-large mb-8"),children:"Ops! \u041e\u0448\u0438\u0431\u043a\u0430 ".concat(r)})]})},bt=function(e){var t=e.closeClick;return Object(re.jsx)("div",{className:jt.a.overlay,onClick:t})},pt=r.p+"static/media/modalEsc.c4c517b0.svg",_t=document.getElementById("modal-portal"),xt=function(e){var t=e.children,r=e.header,n=Object(p.h)(),c=Object(p.j)().url,i=Object(p.g)(),o=function(){l((function(e){e({type:Ie}),e({type:ke})})),i.replace({pathname:n.state?"".concat(n.state.background.pathname):"".concat(c)})},l=x(),d=O((function(e){return e.modalInfo})).allClose,u=Object(a.useCallback)((function(e){"Escape"===e.key&&o()}),[]);return Object(a.useEffect)((function(){return window.addEventListener("keydown",u),function(){window.removeEventListener("keydown",u)}}),[]),d?null:s.a.createPortal(Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(bt,{closeClick:function(){return o()}}),Object(re.jsxs)("div",{className:m()(jt.a.mainContainer),children:[Object(re.jsxs)("div",{className:jt.a.modalHeader,children:[r,Object(re.jsx)("div",{className:m()(jt.a.closeButton,"mt-15 mr-10"),onClick:function(){return o()},children:Object(re.jsx)("img",{alt:"escape button",src:pt})})]}),Object(re.jsx)("div",{className:jt.a.modalBody,children:t})]})]}),_t)},Ot=r(115),ft=r(224),ht=r(61),gt=r.n(ht),vt=r.p+"static/media/error.fa7e5ead.svg",yt=function(e){var t=e.typeErrorText,r=e.helpText;return Object(re.jsxs)("div",{className:m()(jt.a.ModalError),children:[Object(re.jsx)("span",{className:m()("text text_type_main-large mb-8"),children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),Object(re.jsx)("div",{className:m()(jt.a.errorImg,"mb-15"),children:Object(re.jsx)("img",{alt:"Error",src:vt})}),Object(re.jsx)("span",{className:m()("text text_type_main-medium mb-5"),children:t}),Object(re.jsx)("span",{className:m()("text text_type_main-default text_color_inactive mb-2",jt.a.ErrorText),children:r})]})};var Nt=function(){var e=O((function(e){return e.modalInfo})),t=e.orderModal,r=e.modalError;return Object(re.jsx)("div",{className:gt.a.main,children:Object(re.jsxs)("div",{className:gt.a.collectYourBurger,children:[Object(re.jsxs)(ft.a,{backend:Ot.a,children:[Object(re.jsx)(rt,{}),Object(re.jsx)("div",{className:gt.a.burgerConstructor,children:Object(re.jsx)(lt,{})})]}),t&&Object(re.jsx)(xt,{children:Object(re.jsx)(mt,{})}),r&&Object(re.jsx)(xt,{children:Object(re.jsx)(yt,{typeErrorText:"\u0412 \u0431\u0443\u0440\u0433\u0435\u0440\u0435 \u043e\u0442\u0441\u0443\u0442\u0432\u0443\u0435\u0442 \u0431\u0443\u043b\u043a\u0430",helpText:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043a\u0443"})})]})})},Et=r(36),St=r.n(Et),It=r(16),Ct=r.n(It);var Tt=function(e){var t=e.elem,r=x(),a=t.createdAt,n=t.ingredients,c=t.name,s=t.number,i=O((function(e){return e.apiList.foodData})),o="/profile/orders"===Object(p.j)().path?t.status:"",d="done"===o?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"pending"===o?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"created"===o?"\u0421\u043e\u0437\u0434\u0430\u043d":"",u=Je(i,n),j=u.right,b=u.totalCost,_="done"===o?Ct.a.done:"",f=function(){r(function(e){return function(t){t({type:Me,number:e.number,name:e.name,status:e.status,ingredients:e.ingredients,date:e.createdAt}),t({type:Te,open:!0})}}(t))};return Object(re.jsxs)("div",{className:m()(Ct.a.mainBox,"mb-4 p-6"),onClick:function(){return f()},children:[Object(re.jsxs)("div",{className:m()(Ct.a.header,"mb-6"),children:[Object(re.jsx)("span",{className:m()(Ct.a.number,"text text_type_digits-default"),children:"#"+"".concat(s)}),Object(re.jsx)("span",{className:m()(Ct.a.time,"text text_type_main-default text_color_inactive"),children:Ve(a).join(" ")})]}),Object(re.jsxs)("div",{className:m()(Ct.a.content),children:[Object(re.jsx)("span",{className:m()(Ct.a.name,"text text_type_main-medium mb-2"),children:c}),Object(re.jsx)("span",{className:m()(Ct.a.status,"text text_type_main-default mb-6"),children:Object(re.jsx)("span",{className:"".concat(_),children:d})}),Object(re.jsxs)("div",{className:m()(Ct.a.orderDetail),children:[Object(re.jsx)("div",{className:m()(Ct.a.ingredients,"mr-6"),children:j.map((function(e,t){"".concat(e._id).concat(t).concat(s);return t<=4?Object(re.jsx)("div",{className:Ct.a.image,children:Object(re.jsx)("img",{src:e.image_mobile,alt:e.name})},"".concat(e._id).concat(t).concat(s)):5===t?Object(re.jsxs)("div",{className:m()(Ct.a.image,Ct.a.lastImage),children:[Object(re.jsx)("span",{className:m()(Ct.a.plus,"text text_type_digits-default"),children:"+".concat(j.length-t)}),Object(re.jsx)("img",{src:e.image_mobile,alt:e.name})]},"".concat(e._id).concat(t).concat(s)):void 0}))}),Object(re.jsxs)("div",{className:m()(Ct.a.price,"text text_type_digits-default"),children:[Object(re.jsx)("span",{children:b}),Object(re.jsx)(l.CurrencyIcon,{type:"primary"})]})]})]})]})},Rt=function(){var e=Object(p.h)(),t=Object(p.j)().url,r=O((function(e){var t;return null===(t=e.webSocketAll.data)||void 0===t?void 0:t.orders}));return r?Object(re.jsx)("div",{children:r.map((function(r){return Object(re.jsx)(b.b,{to:{pathname:"".concat(t,"/").concat(r._id),state:{background:e}},children:Object(re.jsx)(Tt,{elem:r},r._id)},r._id)}))}):null},kt=r(26),Lt=r.n(kt);var wt=function(){var e,t,r=O((function(e){var t;return null===(t=e.webSocketAll.data)||void 0===t?void 0:t.orders})),a=O((function(e){var t;return null===(t=e.webSocketAll.data)||void 0===t?void 0:t.totalToday})),n=O((function(e){var t;return null===(t=e.webSocketAll.data)||void 0===t?void 0:t.total}));return r&&(e=r.filter((function(e){return"done"===e.status})),t=r.filter((function(e){return"pending"===e.status}))),e&&t?Object(re.jsxs)("div",{className:m()(Lt.a.main),children:[Object(re.jsxs)("div",{className:m()(Lt.a.table),children:[Object(re.jsxs)("div",{className:m()(Lt.a.ready,"mr-9"),children:[Object(re.jsx)("span",{className:m()("text text_type_main-medium pb-6",Lt.a.readyHeader),children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(re.jsx)("div",{className:m()("mr-9",Lt.a.readyNumbers),children:e.map((function(e){return Object(re.jsx)("span",{className:"mb-2 mr-1 text text_type_digits-default",children:e.number},e.number)}))})]}),Object(re.jsxs)("div",{className:m()(Lt.a.inWork),children:[Object(re.jsx)("span",{className:m()("text text_type_main-medium pb-6",Lt.a.inWorkTitle),children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(re.jsx)("div",{className:m()(" mr-9",Lt.a.inWorkNumbers),children:t.map((function(e){return Object(re.jsx)("span",{className:"mb-2 mr-1 text text_type_digits-default",children:e.number},e.number)}))})]})]}),Object(re.jsxs)("div",{className:m()(Lt.a.forAllTime),children:[Object(re.jsx)("span",{className:m()("text text_type_main-medium mt-15"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(re.jsx)("span",{className:m()(Lt.a.number,"text text_type_digits-large"),children:n})]}),Object(re.jsxs)("div",{className:m()(Lt.a.forToday),children:[Object(re.jsx)("span",{className:m()("text text_type_main-medium mt-15"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(re.jsx)("span",{className:m()(Lt.a.number,"text text_type_digits-large"),children:a})]})]}):null},Dt=r(33),At=r.n(Dt);var Ut=function(){return Object(re.jsx)("div",{className:At.a.smallSpiner})},Mt="WS_CONNECTION_START",Bt="WS_CONNECTION_SUCCESS",Pt="WS_CONNECTION_ERROR",Gt="WS_CONNECTION_CLOSED",Ft="WS_GET_MESSAGE",Ht="WS_SEND_MESSAGE",Wt="WS_CONNECTION_TO_CLOSE";var zt=function(){var e=O((function(e){return e.webSocketAll.isLoading})),t=x(),r=O((function(e){return e.webSocketAll.data}));return Object(a.useEffect)((function(){return t({type:Mt,value:"wss://norma.nomoreparties.space/orders/all",place:!1}),function(){t({type:Wt})}}),[]),!e&&r?Object(re.jsxs)("div",{className:m()(St.a.main),children:[r.orders&&Object(re.jsxs)("div",{className:m()(St.a.mainBox,"mr-15"),children:[Object(re.jsxs)("div",{className:St.a.feedList,children:[Object(re.jsx)("span",{className:m()("text text_type_main-large mt-10 mb-5",St.a.headerText),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(re.jsx)("div",{className:m()(St.a.feed),children:Object(re.jsx)(Rt,{})})]}),Object(re.jsx)("div",{className:m()(St.a.ordersNumbers,"mt-25 ml-15"),children:Object(re.jsx)(wt,{})})]}),!r.orders&&!r.message&&Object(re.jsx)("div",{className:"mt-30",children:Object(re.jsx)(Ut,{})}),!r.orders&&"Invalid or missing token"!==r.message&&Object(re.jsx)("div",{children:Object(re.jsx)(yt,{typeErrorText:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f!",helpText:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})})]}):Object(re.jsx)("div",{className:"mt-30",children:Object(re.jsx)(Ut,{})})},Qt=r(49),qt=r.n(Qt);var Zt=function(){return Object(re.jsxs)("div",{className:m()(qt.a.mainbox),children:[Object(re.jsx)("span",{className:m()(qt.a.text,"text text_type_digits-large mb-6"),children:"Error 404"}),Object(re.jsx)("span",{className:m()(qt.a.text,"text text_type_main-large mb-20"),children:":("}),Object(re.jsx)("span",{className:m()(qt.a.text,"text text_type_main-medium"),children:"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]})},Kt=r(17),Vt=r.n(Kt),Jt=r.p+"static/media/burgerBun.509a4193.svg",Yt=r.p+"static/media/BurgerSalad.d024ced5.svg";var $t=function(){return Object(re.jsxs)("div",{className:At.a.container,children:[Object(re.jsxs)("div",{className:At.a.spiner,children:[Object(re.jsx)("div",{className:At.a.bun,children:Object(re.jsx)("img",{alt:"buns",src:Jt})}),Object(re.jsx)("div",{className:At.a.ingredients,children:Object(re.jsx)("img",{alt:"ingredients",src:Yt})})]}),Object(re.jsx)("span",{className:m()(At.a.text,"text text_type_main-default"),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})]})};var Xt=function(e){var t=e.id,r=O((function(e){return e.apiList.foodData})),a=O((function(e){return e.modalInfo.detailOrderInfo})),n=O((function(e){return e.modalInfo.data})).orders.filter((function(e){return e._id==t})),c=Object(ne.a)(n,1)[0];if(!c)return Object(re.jsx)("div",{className:"mt-30",children:Object(re.jsx)(yt,{typeErrorText:"\u0417\u0430\u043a\u0430\u0437 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",helpText:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0435\u0433\u043e \u0443\u0436\u0435 \u043d\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0430\u0445!"})});if(c){var s=Je(r,c.ingredients),i=s.right,o=s.totalCost;return Object(re.jsxs)("div",{className:m()(jt.a.orderDetailModal),children:[!a&&Object(re.jsx)("span",{className:m()(jt.a.detailOrderInfoHeader,"text text_type_digits-default mb-10"),children:"#".concat(c.number)}),Object(re.jsx)("span",{className:m()("text text_type_main-medium mb-3"),children:c.name}),Object(re.jsx)("div",{className:m()("text text_type_main-default mb-15"),children:"done"===c.status?Object(re.jsx)("span",{className:m()(jt.a.doneStatus,"mb-2"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}):Object(re.jsx)("span",{children:"not"})}),Object(re.jsx)("span",{className:m()("text text_type_main-medium mb-6"),children:"\u0421\u043e\u0441\u0442\u0430\u0432"}),Object(re.jsx)("div",{className:m()("mb-10"),children:Object(re.jsx)(er,{total:i})}),Object(re.jsxs)("div",{className:m()(jt.a.orderInfoTotal),children:[" ",Object(re.jsx)("span",{className:m()("text text_type_main-default text_color_inactive"),children:Ve(c.createdAt).join(" ")}),Object(re.jsxs)("div",{className:m()(jt.a.orderInfoTotalCost),children:[Object(re.jsx)("span",{className:m()("text text_type_digits-default mr-2"),children:o}),Object(re.jsx)(l.CurrencyIcon,{type:"primary"})]})]})]})}return null},er=function(e){var t=e.total,r=Array.from(new Set(t));return r.map((function(e){e.count=t.filter((function(t){return t===e})).length,"bun"===e.type&&(e.count=2)})),Object(re.jsx)("div",{className:m()(jt.a.ingredientScroll),children:r.map((function(e,t){return Object(re.jsxs)("div",{className:m()(jt.a.scrollInside,"mb-4"),children:[Object(re.jsxs)("div",{className:m()(jt.a.imageAndNameOrder),children:[Object(re.jsx)("div",{className:m()(jt.a.orderImage),children:Object(re.jsx)("img",{src:e.image_mobile,alt:e.name})}),Object(re.jsx)("span",{className:m()("text text_type_main-default m-4",jt.a.orderTextContent),children:e.name})]}),Object(re.jsxs)("div",{className:m()(jt.a.priceOrderInfo),children:[Object(re.jsx)("span",{className:m()("text text_type_digits-default mr-2"),children:"".concat(e.count," x ").concat(e.price)}),Object(re.jsx)(l.CurrencyIcon,{type:"primary"})]})]},"".concat(e._id).concat(t))}))})},tr=function(){var e=Object(p.j)().path,t=x(),r=Object(p.i)().id,n=O((function(e){return e.modalInfo})),c=n.isLoading,s=n.data,i=O((function(e){return e.modalInfo.detailOrderInfo})),o="/profile/orders/:id"===e?"/orders?token=".concat(X("accessToken")):"/orders/all";return Object(a.useEffect)((function(){i||t(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(r){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get(e);case 3:a=t.sent,r({type:Pe}),200===a.status&&(n=a.data,r({type:Ge,value:n})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r({type:Fe,value:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(o))}),[]),Object(re.jsxs)("div",{className:m()(jt.a.mainOrderDetailInfo,"pb-15"),children:[c&&Object(re.jsx)($t,{}),!c&&s&&Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(Xt,{id:r})})]})};function rr(){var e=Object(p.h)(),t=O((function(e){return e.webSocketAll.isLoading})),r=O((function(e){return e.webSocketAll.data})),a=x(),n=Object(p.g)();return Object(re.jsxs)("div",{className:m()(Vt.a.mainbox),children:[Object(re.jsx)("div",{className:m()(Vt.a.navigation),children:Object(re.jsxs)("div",{className:m()(Vt.a.navDiv),children:[Object(re.jsx)(b.c,{exact:!0,to:{pathname:"/profile"},className:m()(Vt.a.navOption,"text text_type_main-medium"),activeClassName:m()(Vt.a.active,"text text_type_main-medium"),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(re.jsx)(b.c,{to:{pathname:"/profile/orders"},className:m()(Vt.a.navOption,"text text_type_main-medium"),activeClassName:m()(Vt.a.active,"text text_type_main-medium"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(re.jsx)("button",{onClick:function(){return a(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(r){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.post("auth/logout",{token:X("refreshToken")});case 3:if(a=t.sent,r({type:T}),200===a.status&&(n=a.data,document.cookie="accessToken=".concat(X("accessToken"),"; path=/; expires=")+new Date(-1).toUTCString(),document.cookie="refreshToken=".concat(X("refreshToken"),"; path=/; expires=")+new Date(-1).toUTCString(),r({type:R,value:n}),e.replace({pathname:"/login"})),200===a.status){t.next=8;break}throw new Error(a.status);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:k,value:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n))},className:m()(Vt.a.navButton,"text text_type_main-medium mb-20"),children:"\u0412\u044b\u0445\u043e\u0434"}),Object(re.jsx)(cr,{children:"/profile"===e.pathname?"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435":"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})}),Object(re.jsxs)("div",{className:Vt.a.detailed,children:[Object(re.jsx)(p.b,{exact:!0,path:"/profile",component:ar}),Object(re.jsx)(p.b,{exact:!0,path:"/profile/orders",component:!t&&r?nr:Ut})]})]})}function ar(){var e=x(),t=O((function(e){return e.userInfo})),r=t.error,n=t.hasError,c=t.changeIsLoading,s=O((function(e){return e.userInfo})).userInfo,i=Object(a.useState)(""),o=Object(ne.a)(i,2),d=o[0],u=o[1],j=Object(a.useState)(s.user.email),b=Object(ne.a)(j,2),p=b[0],_=b[1],f=Object(a.useState)(s.user.name),y=Object(ne.a)(f,2),N=y[0],E=y[1],S=s.user.email!=p||s.user.name!=N;return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("form",{onSubmit:function(t){var r,a,n;t.preventDefault(),e((r=p,a=d,n=N,function(){var e=Object(g.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),e.next=4,v.patch("auth/user",{email:r,password:a,name:n});case 4:c=e.sent,t({type:q}),200===c.status&&t({type:Z,value:c.data}),200!==c.status&&t({type:K,error:c.status,errorMessage:c.status}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:K,error:e.t0,errorMessage:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(re.jsx)("div",{className:m()(Vt.a.input,"mb-6"),children:Object(re.jsx)(l.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return E(e.target.value)},icon:"EditIcon",value:N,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(re.jsx)("div",{className:m()(Vt.a.input,"mb-6"),children:Object(re.jsx)(l.Input,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:function(e){return _(e.target.value)},icon:"EditIcon",value:p,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(re.jsx)("div",{className:m()(Vt.a.input,"mb-6"),children:Object(re.jsx)(l.PasswordInput,{onChange:function(e){u(e.target.value)},value:d,name:"password"})}),Object(re.jsx)("div",{className:Vt.a.button,children:d.length>0&&Object(re.jsx)(l.Button,{size:S?"small":"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),S&&Object(re.jsx)("div",{className:"mt-3",children:Object(re.jsx)(l.Button,{size:d.length>0?"small":"medium",onClick:function(){u(""),_(s.user.email),E(s.user.name)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),c&&Object(re.jsx)(Ut,{}),n&&Object(re.jsx)(le,{error:r})]})}function nr(){var e=x(),t=O((function(e){return e.webSocketAll})).data,r=X("accessToken");return Object(a.useEffect)((function(){t&&t.message&&"Invalid or missing token"===t.message&&ee()}),[t,e,r]),Object(a.useEffect)((function(){t&&"Invalid or missing token"===t.message&&e({type:"WS_CONNECTION_START",value:"wss://norma.nomoreparties.space/orders?token=".concat(X("accessToken")),place:!0})}),[r]),t?Object(re.jsxs)("div",{className:m()(Vt.a.orderHistoryBox),children:[t.orders&&!t.message&&Object(re.jsx)(Rt,{}),"Invalid or missing token"===t.message&&Object(re.jsx)(Ut,{}),!t.orders&&"Invalid or missing token"!==t.message&&Object(re.jsx)("div",{children:Object(re.jsx)(yt,{typeErrorText:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f!",helpText:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})})]}):null}var cr=function(e){var t=e.children;return Object(re.jsx)("span",{className:m()(Vt.a.navOptionPromt,"text text_type_main-default text_color_inactive mr-15"),children:t})},sr=function(){var e=x(),t=Object(p.g)(),r=Object(p.h)(),n=Object(p.j)().path;Object(a.useEffect)((function(){return e({type:Mt,value:"wss://norma.nomoreparties.space/orders?token=".concat(X("accessToken")),place:!0}),function(){e({type:Wt})}}),[]);var c="PUSH"===t.action&&r.state&&r.state.background;return Object(re.jsx)(re.Fragment,{children:Object(re.jsxs)(p.d,{location:c||r,children:[Object(re.jsx)(p.b,{path:"".concat(n,"/orders/:id"),component:tr}),Object(re.jsx)(p.b,{path:"".concat(n),component:rr})]})})},ir=r(31),or=r.n(ir);var lr=function(){var e=O((function(e){return e.registration})),t=e.hasError,r=e.error,n=Object(p.g)(),c=x(),s=Object(a.useState)(""),i=Object(ne.a)(s,2),o=i[0],d=i[1],u=Object(a.useState)(""),j=Object(ne.a)(u,2),_=j[0],f=j[1],S=Object(a.useState)(""),I=Object(ne.a)(S,2),C=I[0],T=I[1];return Object(re.jsxs)("div",{className:m()(or.a.mainbox),children:[Object(re.jsx)("span",{className:m()(or.a.header,"text text_type_main-medium mb-6"),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(re.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(function(e,t,r,a){return function(){var n=Object(g.a)(h.a.mark((function n(c){var s,i;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.post("auth/register",{email:e,password:r,name:t});case 3:if(s=n.sent,c({type:y}),200===s.status&&(i=s.data,c({type:N,value:i}),a.replace({pathname:"/login"})),s.ok){n.next=8;break}throw new Error(s.status);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),c({type:E,value:n.t0});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(_,C,o,n))},children:[Object(re.jsx)("div",{className:m()(or.a.input,"mb-6"),children:Object(re.jsx)(l.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return T(e.target.value)},value:C,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(re.jsx)("div",{className:m()(or.a.input,"mb-6"),children:Object(re.jsx)(l.Input,{type:"text",placeholder:"E-mail",onChange:function(e){return f(e.target.value)},value:_,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(re.jsx)("div",{className:m()(or.a.input,"mb-6"),children:Object(re.jsx)(l.PasswordInput,{onChange:function(e){d(e.target.value)},value:o,name:"password"})}),Object(re.jsxs)("div",{className:m()(or.a.button,"mb-20"),children:[Object(re.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),t&&Object(re.jsx)(le,{error:r})]})]}),Object(re.jsxs)("div",{className:m()(or.a.text),children:[Object(re.jsxs)("span",{className:"text text_type_main-default text_color_inactive",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"," "]}),Object(re.jsxs)(b.b,{to:{pathname:"/login"},className:m()(or.a.link,"text text_type_main-default"),children:[" ","\u0412\u043e\u0439\u0442\u0438"]})]})]})},dr=r(40),ur=r.n(dr);var jr=function(){var e=x(),t=Object(p.g)(),r=O((function(e){return e.forgotRequest})),n=r.hasError,c=r.error,s=Object(a.useState)(""),i=Object(ne.a)(s,2),o=i[0],d=i[1],u=Object(a.useState)(""),j=Object(ne.a)(u,2),_=j[0],f=j[1];return Object(re.jsxs)("div",{className:m()(ur.a.mainbox),children:[Object(re.jsx)("span",{className:m()(ur.a.header,"text text_type_main-medium mb-6"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(re.jsxs)("form",{onSubmit:function(r){r.preventDefault(),e(function(e,t,r){return function(){var a=Object(g.a)(h.a.mark((function a(n){var c,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:A}),a.next=4,v.post("password-reset/reset",{password:e,token:t});case 4:200===(c=a.sent).status&&(s=c.data,n({type:U,value:s}),r.replace({pathname:"/"})),200!==c.status&&n({type:M,error:c.status}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:M,error:a.t0.status});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(o,_,t))},children:[Object(re.jsx)("div",{className:m()(ur.a.input,"mb-6"),children:Object(re.jsx)(l.PasswordInput,{onChange:function(e){d(e.target.value)},value:o,name:"password"})}),Object(re.jsx)("div",{className:m()(ur.a.input,"mb-6"),children:Object(re.jsx)(l.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:function(e){return f(e.target.value)},value:_,name:"name",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(re.jsx)("div",{className:"mb-20",children:Object(re.jsx)(l.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),n&&Object(re.jsx)(le,{error:c}),Object(re.jsxs)("div",{children:[Object(re.jsx)("span",{className:m()("text text_type_main-default text_color_inactive"),children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(re.jsxs)(b.b,{className:m()(ur.a.link,"text text_type_main-default"),to:{pathname:"/login"},children:[" ","\u0412\u043e\u0439\u0442\u0438"]})]})]})};var mr=function(e){var t=e.type,r=e.content;return Object(re.jsxs)("div",{className:m()(jt.a.modalDetailsTexts,"mr-5 mb-15"),children:[Object(re.jsx)("span",{className:m()(jt.a.modalDetailsText,"text text_type_main-default text_color_inactive"),children:t}),Object(re.jsx)("span",{className:m()(jt.a.modalDetailsText,"text_type_digits-default text_color_inactive"),children:r})]})},br=function(){var e=Object(p.i)().id,t=O((function(e){return e.apiList.foodData})).find((function(t){return t._id===e})),r=O((function(e){return e.modalInfo.ingridientModal}));return t?Object(re.jsxs)("div",{className:jt.a.ingredientContainer,children:[!r&&Object(re.jsx)("div",{className:m()(jt.a.headerTextNoModal,"text text_type_main-large mt-10"),children:"\n\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(re.jsx)("img",{className:jt.a.image,src:t.image_large,alt:t.name}),Object(re.jsx)("h3",{className:m()("text text_type_main-medium mb-8 mt-4"),children:t.name}),Object(re.jsxs)("div",{className:m()(jt.a.modalDetails),children:[Object(re.jsx)(mr,{type:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b",content:t.calories}),Object(re.jsx)(mr,{type:"\u0411\u0435\u043b\u043a\u0438, \u0433",content:t.proteins}),Object(re.jsx)(mr,{type:"\u0416\u0438\u0440\u044b, \u0433",content:t.fat}),Object(re.jsx)(mr,{type:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433",content:t.carbohydrates})]})]}):null},pr=r(3),_r=r(39),xr=["children"],Or=function(e){var t=e.children,r=Object(_r.a)(e,xr),a=O((function(e){return e.userInfo})).logged,n=Object(p.h)().state;return Object(re.jsx)(p.b,Object(pr.a)(Object(pr.a)({},r),{},{render:function(){return a?Object(re.jsx)(p.a,{to:n?n.from:"/"}):t}}))},fr=["children"],hr=function(e){var t=e.children,r=Object(_r.a)(e,fr),a=O((function(e){return e.userInfo})),n=a.logged,c=a.isLoading,s=a.loadingUser,i=a.loadingRefresh,o=a.needToRefresh;return Object(re.jsxs)(re.Fragment,{children:[c&&Object(re.jsx)($t,{}),o&&Object(re.jsx)($t,{}),!c&&!s&&!i&&Object(re.jsx)(p.b,Object(pr.a)(Object(pr.a)({},r),{},{render:function(e){var r=e.location;return n?t:Object(re.jsx)(p.a,{to:{pathname:"/login",state:{from:r}}})}}))]})},gr=["children"],vr=function(e){var t=e.children,r=Object(_r.a)(e,gr),a=O((function(e){return e.userInfo})).logged,n=O((function(e){return e.forgotRequest})),c=n.isLoading,s=n.sent;return Object(re.jsxs)(re.Fragment,{children:[c&&Object(re.jsx)($t,{}),!c&&Object(re.jsx)(p.b,Object(pr.a)(Object(pr.a)({},r),{},{render:function(){return!a&&s?t:Object(re.jsx)(p.a,{to:"/"})}}))]})};var yr=function(){var e=Object(p.g)(),t=Object(p.h)(),r=x(),n=O((function(e){return e.apiList})),c=n.hasError,s=n.error,i=n.isLoading,l=n.foodData;Object(a.useEffect)((function(){r(function(){var e=Object(g.a)(h.a.mark((function e(t){var r,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("ingredients");case 3:r=e.sent,t({type:xe}),200===r.status&&(a=r.data.data,n=a.map((function(e){return e.keyAdd=0,e.key=e._id,e.counter=0,e})),t({type:Oe,items:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:fe,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),X("accessToken")&&r(function(){var e=Object(g.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:B}),e.next=4,v.get("auth/user");case 4:if(200===(r=e.sent).status&&(a=r.data,t({type:P,value:a}),t({type:H,value:!0})),200===r.status){e.next=8;break}throw new Error(r.status);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:H,value:!1}),t({type:G,errorMessage:e.t0,error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var d=O((function(e){return e.currentOrderDetail.number})),u="PUSH"===e.action&&t.state&&t.state.background;return Object(re.jsxs)("div",{className:o.a.App,children:[i&&Object(re.jsx)($t,{}),c&&Object(re.jsx)("div",{children:s}),!i&&!c&&l&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(ae,{}),Object(re.jsxs)(p.d,{location:u||t,children:[Object(re.jsx)(p.b,{exact:!0,path:"/",component:Nt}),Object(re.jsx)(p.b,{exact:!0,path:"/feed",component:zt}),Object(re.jsx)(Or,{exact:!0,path:"/login",children:Object(re.jsx)(de,{})}),Object(re.jsx)(Or,{exact:!0,path:"/register",children:Object(re.jsx)(lr,{})}),Object(re.jsx)(Or,{exact:!0,path:"/forgot-password",children:Object(re.jsx)(me,{})}),Object(re.jsx)(vr,{exact:!0,path:"/reset-password",children:Object(re.jsx)(jr,{})}),Object(re.jsx)(hr,{path:"/profile",children:Object(re.jsx)(sr,{})}),Object(re.jsx)(p.b,{exact:!0,path:"/ingredients/:id",component:br}),Object(re.jsx)(p.b,{exact:!0,path:"/feed/:id",component:tr}),Object(re.jsx)(p.b,{children:Object(re.jsx)(Zt,{})})]}),u&&Object(re.jsx)(p.b,{path:"/ingredients/:id",children:Object(re.jsx)(xt,{children:Object(re.jsx)(br,{}),header:Object(re.jsx)("span",{className:"text text_type_main-large ml-10 mt-10",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"})})}),u&&Object(re.jsx)(p.b,{path:"".concat(u.pathname,"/:id"),children:Object(re.jsx)(xt,{header:Object(re.jsx)("span",{className:"text text_type_digits-default  ml-10 mt-10 mb-10",children:"#".concat(d)}),children:Object(re.jsx)(tr,{})})})]})]})},Nr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,227)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},Er=r(30),Sr={hasError:!1,error:null,isLoading:!1,regInfo:null},Ir={hasError:!1,error:null,isLoading:!1,userInfo:null,logged:!1,needToRefresh:!1,refreshedTokens:null,failedToRefresh:!1,profileReady:!1,loadingUser:!1,loadingRefresh:!1,refreshed:!1,changeIsLoading:!1,errorMessage:null,failedToChange:!1},Cr={hasError:!1,error:null,isLoading:!1,sent:!1,result:null,sending:!1},Tr={url:null,connected:!1,data:null,close:null,error:null,info:null,isLoading:!1,inProfile:!1,closing:!1,message:null},Rr={hasError:!1,error:null,isLoading:!1,foodData:null},kr={bun:null,mainIngredients:[]},Lr={name:"",image:null,calories:null,proteins:null,fat:null,carbohydrates:null},wr={ingridientModal:!1,orderModal:!1,detailOrderInfo:!1,allClose:!0,data:null,isLoading:!1,error:null,hasError:!1,modalError:!1},Dr={hasError:!1,error:null,isLoading:!1,orderInfo:null,success:!1},Ar={currentTab:"bun"},Ur={totalPrice:null},Mr={number:null,name:"",status:"",ingredients:[],createdAt:""},Br=Object(Er.combineReducers)({apiList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0});case Oe:return Object(pr.a)(Object(pr.a)({},e),{},{foodData:t.items,isLoading:!1,hasError:!1});case fe:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!1,hasError:!0,foodData:null,error:t.error});case Ue:return Object(pr.a)(Object(pr.a)({},e),{},{foodData:t.value});default:return e}},constructorList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return Object(pr.a)(Object(pr.a)({},e),{},{bun:t.bun});case Ne:return Object(pr.a)(Object(pr.a)({},e),{},{mainIngredients:t.mainIngredients});case we:return Object(pr.a)(Object(pr.a)({},e),{},{mainIngredients:t.value});case De:return Object(pr.a)(Object(pr.a)({},e),{},{mainIngredients:kr.mainIngredients,bun:kr.bun});default:return e}},modalInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(pr.a)(Object(pr.a)({},e),{},{ingridientModal:t.open,orderModal:!1,allClose:!1,modalError:!1});case Se:return Object(pr.a)(Object(pr.a)({},e),{},{orderModal:t.open,ingridientModal:!1,modalError:!1,allClose:!1});case Te:return Object(pr.a)(Object(pr.a)({},e),{},{orderModal:!1,ingridientModal:!1,modalError:!1,detailOrderInfo:t.open,allClose:!1});case Ce:return Object(pr.a)(Object(pr.a)({},e),{},{modalError:t.open,ingridientModal:!1,allClose:!1});case Ie:return Object(pr.a)(Object(pr.a)({},e),{},{ingridientModal:!1,orderModal:!1,modalError:!1,detailOrderInfo:!1,allClose:!0});case Pe:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0});case Ge:return Object(pr.a)(Object(pr.a)({},e),{},{data:t.value,hasError:!1,isLoading:!1});case Fe:return Object(pr.a)(Object(pr.a)({},e),{},{hasError:!0,isLoading:!1,error:t.value});default:return e}},currentIngredient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object(pr.a)(Object(pr.a)({},e),{},{name:t.name,image:t.image,calories:t.calories,proteins:t.proteins,fat:t.fat,carbohydrates:t.carbohydrates});case ke:return Object(pr.a)(Object(pr.a)({},e),{},{name:"",image:null,calories:null,proteins:null,fat:null,carbohydrates:null});default:return e}},createdOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0});case ge:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!1,success:!0,hasError:!1,orderInfo:t.data});case ve:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!1,hasError:!0,error:t.error,orderInfo:null});default:return e}},tabSwtich:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(pr.a)(Object(pr.a)({},e),{},{currentTab:t.value});default:return e}},price:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(pr.a)(Object(pr.a)({},e),{},{totalPrice:t.value});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0});case N:return Object(pr.a)(Object(pr.a)({},e),{},{regInfo:t.value,isLoading:!1,hasError:!1});case E:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!1,hasError:!0,error:t.value});case Y:return Object(pr.a)(Object(pr.a)({},e),{},{hasError:!1,error:null});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0});case I:return Object(pr.a)(Object(pr.a)({},e),{},{userInfo:t.value,hasError:!1,logged:!0,isLoading:!1,profileReady:!0,errorMessage:null});case C:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!1,hasError:!0,error:t.value});case T:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0});case R:return Object(pr.a)(Object(pr.a)({},e),{},{hasError:!1,error:null,isLoading:!1,userInfo:t.value,logged:!1,needToRefresh:!1,refreshedTokens:null,failedToRefresh:!1,profileReady:!1});case k:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!1,error:t.value});case B:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0,loadingUser:!0});case P:return Object(pr.a)(Object(pr.a)({},e),{},{profileReady:!0,userInfo:t.value,hasError:!1,logged:!0,isLoading:!1,loadingUser:!1,errorMessage:null});case G:return Object(pr.a)(Object(pr.a)({},e),{},{logged:!1,isLoading:!1,error:t.error,hasError:!0,loadingUser:!1,errorMessage:t.errorMessage});case F:return Object(pr.a)(Object(pr.a)({},e),{},{needToRefresh:t.value});case W:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0,loadingRefresh:!0,refreshed:!1});case z:return Object(pr.a)(Object(pr.a)({},e),{},{refreshed:!0,refreshedTokens:t.value,needToRefresh:!1,hasError:!1,isLoading:!1,loadingRefresh:!1,errorMessage:null,error:null});case Q:return Object(pr.a)(Object(pr.a)({},e),{},{refreshed:!1,isLoading:!1,failedToRefresh:!0,loadingRefresh:!1,needToRefresh:!1,error:t.error,hasError:!0});case q:return Object(pr.a)(Object(pr.a)({},e),{},{changeIsLoading:!0});case Z:return Object(pr.a)(Object(pr.a)({},e),{},{userInfo:t.value,changeIsLoading:!1,hasError:!1,errorMessage:null,error:null,failedToChange:!1});case K:return Object(pr.a)(Object(pr.a)({},e),{},{changeIsLoading:!1,hasError:!0,error:t.error,errorMessage:t.errorMessage,failedToChange:!0});case H:return Object(pr.a)(Object(pr.a)({},e),{},{profileReady:t.value});case V:return Object(pr.a)(Object(pr.a)({},e),{},{error:null,hasError:!1});default:return e}},forgotRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0,sending:!0});case w:return Object(pr.a)(Object(pr.a)({},e),{},{sending:!1,sent:!0,isLoading:!1,hasError:!1,result:t.value});case D:return Object(pr.a)(Object(pr.a)({},e),{},{sent:!1,sending:!1,hasError:!0,error:t.value,isLoading:!1});case A:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!0});case U:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!1,result:t.value,hasError:!1,sent:!1});case M:return Object(pr.a)(Object(pr.a)({},e),{},{isLoading:!1,result:null,hasError:!0,error:t.error});case J:return Object(pr.a)(Object(pr.a)({},e),{},{hasError:!1,error:null,sent:!1});default:return e}},webSocketAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mt:return Object(pr.a)(Object(pr.a)({},e),{},{url:t.value,inProfile:t.place,isLoading:!0});case Bt:return Object(pr.a)(Object(pr.a)({},e),{},{connected:!0,info:t.value,isLoading:!1});case Pt:return Object(pr.a)(Object(pr.a)({},e),{},{connected:!1,error:t.value,isLoading:!1});case Gt:return Object(pr.a)(Object(pr.a)({},e),{},{connected:!1,info:t.value,closing:!1});case Wt:return Object(pr.a)(Object(pr.a)({},e),{},{closing:!0});case Ft:return Object(pr.a)(Object(pr.a)({},e),{},{data:t.value});case Ht:return Object(pr.a)(Object(pr.a)({},e),{},{message:t.message});default:return e}},currentOrderDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(pr.a)(Object(pr.a)({},e),{},{number:t.number,name:t.name,status:t.status,ingredients:t.ingredients,createdAt:t.date});case Be:return Object(pr.a)(Object(pr.a)({},e),{},{number:null,name:"",status:"",ingredients:[],createdAt:""});default:return e}}}),Pr=r(114),Gr=r(83),Fr=("object"===typeof window&&Gr.composeWithDevTools?Object(Gr.composeWithDevTools)({}):Er.compose)(Object(Er.applyMiddleware)(Pr.a,(function(e){var t=null;return function(r){return function(a){var n=e.dispatch,c=a.type,s=a.value;c===Mt&&(t=new WebSocket(s)),c===Wt&&t.close("1000","User left the page that has socket"),t&&(t.onopen=function(e){n({type:Bt,value:e})},t.onmessage=function(e){var t=e.data,r=JSON.parse(t);n({type:Ft,value:r}),n({type:Ge,value:r})},t.onerror=function(e){n({type:Pt,value:e})},t.onclose=function(e){n({type:Gt,value:e})},t.send=function(e){n({type:Ht,message:s})}),r(a)}}}))),Hr=Object(Er.createStore)(Br,Fr);s.a.render(Object(re.jsx)(n.a.StrictMode,{children:Object(re.jsx)(_.a,{store:Hr,children:Object(re.jsx)(b.a,{children:Object(re.jsx)(yr,{})})})}),document.getElementById("root")),Nr()},26:function(e,t,r){e.exports={ready:"OrderNumbersStyles_ready__JHq9R",main:"OrderNumbersStyles_main__iQIq2",number:"OrderNumbersStyles_number__R-Un-",table:"OrderNumbersStyles_table__3wNn8",readyNumbers:"OrderNumbersStyles_readyNumbers__S9NRg",readyHeader:"OrderNumbersStyles_readyHeader__2iq2K",inWorkTitle:"OrderNumbersStyles_inWorkTitle__3qRct",inWorkNumbers:"OrderNumbersStyles_inWorkNumbers__1P905"}},29:function(e,t,r){e.exports={mainbox:"login_mainbox__3jlUJ",input:"login_input__2QjsI",text:"login_text__2Kpoo",link:"login_link__1zeL4"}},31:function(e,t,r){e.exports={mainbox:"register_mainbox__E-eco",input:"register_input__2mVlm",text:"register_text__2Wncs",link:"register_link__pQWGC"}},33:function(e,t,r){e.exports={container:"Spiner_container__2NvfJ",bun:"Spiner_bun__3K3FM",ingredients:"Spiner_ingredients__sMOxI",spin:"Spiner_spin__2qHwp",text:"Spiner_text__2O09n",smallSpiner:"Spiner_smallSpiner__RK_-N",load3:"Spiner_load3__2yDyd",spaces:"Spiner_spaces__1uC_C"}},36:function(e,t,r){e.exports={mainBox:"feedStyles_mainBox__18lDL",feed:"feedStyles_feed__3k-Ua",headerText:"feedStyles_headerText__3UBTU",feedList:"feedStyles_feedList__2v35p",spiner:"feedStyles_spiner__2ZWrX"}},40:function(e,t,r){e.exports={header:"resetPassword_header__23fZs",mainbox:"resetPassword_mainbox__2KBAg",link:"resetPassword_link__P19Cf"}},48:function(e,t,r){e.exports={header:"forgotPassword_header__10G6i",mainbox:"forgotPassword_mainbox__3M1au",link:"forgotPassword_link__1GEhP"}},49:function(e,t,r){e.exports={text:"notFound404_text__UA0aM",mainbox:"notFound404_mainbox__iNptL"}},6:function(e,t,r){e.exports={overlay:"ModalStyles_overlay__25ov9",mainBox:"ModalStyles_mainBox__WCWU8",mainContainer:"ModalStyles_mainContainer__3ZoU2",headerTextNoModal:"ModalStyles_headerTextNoModal__2VWb2",modalHeader:"ModalStyles_modalHeader__IM7gt",image:"ModalStyles_image__uxp5F",closeButton:"ModalStyles_closeButton__3nDmG",modalBody:"ModalStyles_modalBody__1uaMU",orderNumber:"ModalStyles_orderNumber__1bt8G",text:"ModalStyles_text__3cFuO",orderIcon:"ModalStyles_orderIcon__2Lb7S",modalDetails:"ModalStyles_modalDetails__2_z61",modalDetailsText:"ModalStyles_modalDetailsText__2nH4V",ModalError:"ModalStyles_ModalError__16Jrw",errorImg:"ModalStyles_errorImg__1TFIW",orderImage:"ModalStyles_orderImage__26Tq_",doneStatus:"ModalStyles_doneStatus__1ixEN",ingredientScroll:"ModalStyles_ingredientScroll__37aAa",orderDetailModal:"ModalStyles_orderDetailModal__3WqSk",scrollInside:"ModalStyles_scrollInside__3l-Ur",detailOrderInfoHeader:"ModalStyles_detailOrderInfoHeader__2CcRF",mainOrderDetailInfo:"ModalStyles_mainOrderDetailInfo__3jRlv",imageAndNameOrder:"ModalStyles_imageAndNameOrder__3T_Ov",priceOrderInfo:"ModalStyles_priceOrderInfo__3W1nh",orderInfoTotal:"ModalStyles_orderInfoTotal__QRvff",orderInfoTotalCost:"ModalStyles_orderInfoTotalCost__2J6Q4"}},60:function(e,t,r){e.exports={box:"errorPrompt_box__3aPZD",text:"errorPrompt_text__2Pww-"}},61:function(e,t,r){e.exports={collectYourBurger:"mainPage_collectYourBurger__2fkry",burgerConstructor:"mainPage_burgerConstructor__2N282",loader:"mainPage_loader__2Kn7d"}}},[[219,1,2]]]);
//# sourceMappingURL=main.200f3a47.chunk.js.map